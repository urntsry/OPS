# 🎯 任務分類管理系統 v2.0 使用指南

## ✅ 已完成

### **資料庫升級**
- ✅ 新增 `item_type`：職能清單 vs 實際任務
- ✅ 新增 `event_category`：事件分類（報修/活動/清潔/會計/人事/職訓/會議/出差）
- ✅ 新增 `is_template`：標記為模板事件
- ✅ 新增 `default_notify_users`：預設通知對象

### **前端 UI**
- ✅ 新增「任務分類管理」頁面
- ✅ 可以編輯任務名稱
- ✅ 可以切換任務類型
- ✅ 可以設定事件分類
- ✅ 可以標記模板

---

## 🎨 使用方式

### **步驟 1：開啟設定頁**
```
首頁 → 設定 → 任務分類管理
```

### **步驟 2：查看任務列表**
您會看到所有任務，包含：
- 序號（動態編號）
- 任務名稱
- 類型（職能清單/實際任務）
- 事件分類
- 是否為模板

### **步驟 3：使用分頁過濾**
```
[全部] [職能清單] [實際任務] [模板事件]
```

點擊分頁可以快速篩選：
- **全部**：顯示所有任務
- **職能清單**：只顯示職能清單
- **實際任務**：只顯示會出現在行事曆的任務
- **模板事件**：只顯示可快速建立的模板

### **步驟 4：編輯任務**

#### **點擊「編輯」按鈕**
會彈出編輯視窗，可以修改：

1. **任務名稱**
   ```
   範例：
   - 原：理布
   - 改：理布（每日例行）
   ```

2. **任務類型**
   - ○ 職能清單（不顯示行事曆）
   - ○ 實際任務（顯示行事曆）
   
   **判斷標準**：
   ```
   職能清單：
   - 日常工作能力
   - 不需要特定時間完成
   - 不需要提醒
   - 範例：報價、接聽電話、理布
   
   實際任務：
   - 需要在特定時間執行
   - 需要追蹤完成狀態
   - 需要顯示在行事曆
   - 範例：月度盤點、冷氣清洗、會議
   ```

3. **事件分類**（只在實際任務時顯示）
   ```
   選項：
   - 報修
   - 活動
   - 清潔
   - 會計
   - 人事
   - 職訓
   - 會議
   - 出差
   ```

4. **標記為模板**（只在實際任務時顯示）
   ```
   勾選後，該任務會出現在首頁的「快速建立」區域
   ```

---

## 📋 分類建議

### **職能清單（不顯示行事曆）**

#### **應該標記為職能清單的任務**
```
✓ 與客戶洽談業務
✓ 報價單填寫
✓ 與廠商詢價
✓ 理布
✓ 接聽電話
✓ 處理文書
✓ 加工單開立
```

**特徵**：
- 日常工作的一部分
- 沒有固定時間
- 不需要提醒
- 只是「能力標籤」

---

### **實際任務（顯示行事曆）**

#### **報修類**
```
✓ 冷氣清洗
✓ 空調保養
✓ 化糞池抽肥
✓ 設備維修
✓ 貨梯保養
```
**特徵**：
- 需要安排時間
- 需要特定人員處理
- 可能是突發事件
- 建議標記為「模板」（方便快速建立）

#### **活動類**
```
✓ 活動策劃
✓ 參與福委會
✓ 尾牙籌備
✓ 員工聚餐
```
**特徵**：
- 需要事先規劃
- 涉及多人協作
- 有明確日期
- 建議標記為「模板」

#### **清潔類**
```
✓ 下午茶安排
✓ 掃廁所
✓ 擦玻璃
✓ 環境整理
```
**特徵**：
- 固定排程
- 例行性質
- 不建議標記為模板（因為是固定排程）

#### **會計類**
```
✓ 月度盤點
✓ 應收帳款核對
✓ 應付帳款核對
✓ 月底結帳
```
**特徵**：
- 固定週期
- 特定日期
- 重要且需追蹤
- 不建議標記為模板

#### **人事類**
```
✓ 新進同仁訓練
✓ 員工面談
✓ 考核評估
```
**特徵**：
- 不定期發生
- 建議標記為「模板」

#### **職訓類**
```
✓ ISO內部稽核
✓ 安全教育訓練
✓ 技能培訓
```
**特徵**：
- 定期或不定期
- 涉及多人
- 建議標記為「模板」

#### **會議類**
```
✓ 週報整理
✓ 月會
✓ 部門會議
```
**特徵**：
- 固定或臨時
- 週期性或單次
- 視情況標記為模板

#### **出差類**
```
✓ 日本出差
✓ 外出洽談
✓ 客戶拜訪
```
**特徵**：
- 臨時性質
- 需要安排時間
- 建議標記為「模板」（方便快速建立）

---

## 🎯 分類流程建議

### **建議步驟**

1. **第一輪：快速標記職能清單**
   ```
   將所有「日常工作能力」標記為「職能清單」
   這些任務不會出現在行事曆
   ```

2. **第二輪：設定事件分類**
   ```
   為所有「實際任務」選擇適當的分類
   報修/活動/清潔/會計/人事/職訓/會議/出差
   ```

3. **第三輪：標記模板**
   ```
   將「常用」且「需要快速建立」的任務標記為模板
   例如：報修、出差、會議
   ```

4. **第四輪：調整名稱**
   ```
   讓名稱更清楚、更直觀
   例如：「理布」→「理布（每日例行）」
   ```

---

## 📊 統計資訊

頁面頂部會顯示：
```
總數: 101  職能清單: 25  實際任務: 76  模板事件: 15
```

這可以幫您：
- 了解分類進度
- 確認分類比例是否合理
- 快速找到未分類的任務

---

## 🔍 搜尋功能

使用搜尋框可以快速找到特定任務：
```
輸入：報修
顯示：所有包含「報修」的任務
```

---

## 💾 儲存方式

- ✅ 每次編輯後點擊「儲存」會立即更新資料庫
- ✅ 成功後會顯示綠色 Toast 提示
- ✅ 不需要手動重新載入

---

## 🎯 完成後的效果

### **職能清單**
- ❌ 不會出現在首頁行事曆
- ✅ 僅用於記錄員工能力
- ✅ 在設定頁可查看

### **實際任務**
- ✅ 會出現在首頁行事曆
- ✅ 需要打勾完成
- ✅ 可以追蹤進度

### **模板事件**
- ✅ 會出現在首頁「快速建立」區域
- ✅ 點擊即可快速建立
- ✅ 自動填入負責人、分類等資訊

---

## 💡 常見問題

### **Q1：如何決定是「職能清單」還是「實際任務」？**
```
問自己：
- 這需要顯示在行事曆上嗎？
- 這需要在特定時間完成嗎？
- 這需要追蹤完成狀態嗎？

如果答案都是「否」→ 職能清單
如果有任何「是」→ 實際任務
```

### **Q2：所有實際任務都要標記為模板嗎？**
```
不是！只有「常用」且「需要快速建立」的才標記

範例：
✓ 報修 → 標記為模板（臨時發生，需快速建立）
✓ 出差 → 標記為模板（不定期，需快速建立）
✗ 月度盤點 → 不標記（固定排程，不需要手動建立）
✗ 每日清潔 → 不標記（自動產生，不需要手動建立）
```

### **Q3：可以之後再調整分類嗎？**
```
✅ 可以！隨時可以回到設定頁調整
```

---

## 🚀 下一步

分類完成後，我們會：
1. ✅ 首頁行事曆只顯示「實際任務」
2. ✅ 首頁加入「快速建立」區域（顯示模板）
3. ✅ 根據事件分類自動通知相關人員

---

## 📞 如有問題

如果分類時有疑問，可以：
1. 先標記為「實際任務」（保守做法）
2. 之後觀察使用情況再調整
3. 隨時可以修改

祝您分類順利！🎯

