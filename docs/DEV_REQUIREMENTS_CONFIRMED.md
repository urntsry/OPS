# THERMOTECH-OPS 開發需求確認

## ✅ 用戶確認事項

### 1. 事項建立邏輯
**用戶操作流程**：
```
同事點擊「新增事項」
  ↓
選擇類型：[ ] 例行公事  [ ] 交辦事項  [ ] 公共事項
  ↓
輸入標題：[________________]
  ↓
選擇日期：可複選（如：每週四、每月6號）
  ↓
儲存 → 自動顯示在行事曆上
```

**技術實作**：
- 日期選擇器支援複選
- 儲存時計算未來30天/90天的日期
- 寫入 `calendar_events` 表

### 2. 權限系統
- **Admin**：可訪問所有分頁
- **其他角色**：後續補充

### 3. 公共事項管理
- 會有專門的「公共事項處理者」（後續指定）

### 4. 外籍勞工資料
- 後續提供名單

---

## 🚀 開發優先順序（立即執行）

### Phase 1：首頁核心（今天完成）
1. ✅ 行事曆元件（月曆顯示）
2. ✅ 四個區塊（例行/交辦/公共/公告）
3. ✅ 新增事項功能（含日期複選）

### Phase 2：Admin 功能（明天）
1. 頂部分頁按鈕
2. 權限判斷邏輯

### Phase 3：部門頁面（後續）
1. 人事頁面
2. 其他部門頁面

---

## 📊 資料庫更新

### 新增表：calendar_events
```sql
CREATE TABLE calendar_events (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id UUID REFERENCES profiles(id),
  title TEXT NOT NULL,
  event_type TEXT NOT NULL,           -- 'routine', 'assignment', 'public'
  selected_dates DATE[],              -- 用戶選擇的日期陣列
  recurrence_pattern TEXT,            -- 週期規則（如 'weekly:4' = 每週四）
  created_at TIMESTAMPTZ DEFAULT NOW(),
  is_active BOOLEAN DEFAULT TRUE
);
```

---

## 🎯 立即開始開發

**目標**：30分鐘內完成首頁行事曆原型！


